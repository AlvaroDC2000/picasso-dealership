<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="800" prefWidth="1100.0" styleClass="root"
            xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="dealership.controllers.RegisterRepairController">

    <!-- LOGO  -->
    <ImageView fitHeight="100"
               preserveRatio="true"
               pickOnBounds="true"
               AnchorPane.topAnchor="18"
               AnchorPane.rightAnchor="24">
        <image>
            <Image url="@/images/LogoConcesionario.png"/>
        </image>
    </ImageView>

    <Button fx:id="backButton"
        layoutX="1040" layoutY="25"
        prefWidth="40" prefHeight="40"
        text="â€¹"
        onAction="#handleBack"
        styleClass="btn-back-mech" />
    

    <Label layoutX="270" layoutY="40"
           text="Register new repair"
           style="-fx-font-size: 56px; -fx-font-weight: 800;" />

    <VBox layoutX="140" layoutY="160"
          prefWidth="820" prefHeight="560"
          spacing="18"
          style="-fx-background-color: white;
                 -fx-border-color: #E6EAF0;
                 -fx-border-radius: 8px;
                 -fx-background-radius: 8px;
                 -fx-padding: 30;">

        <Label text="Register details"
               style="-fx-font-size: 28px; -fx-font-weight: 700;" />

        <HBox spacing="12" style="-fx-alignment: center-left;">
            <Label text="Car:" style="-fx-font-size: 20px; -fx-font-weight: 700;" />
            <ComboBox fx:id="vehicleCombo"
                      prefWidth="620"
                      style="-fx-font-size: 18px;" />
        </HBox>

        <HBox spacing="12" style="-fx-alignment: center-left;">
            <Label text="Customer:" style="-fx-font-size: 20px; -fx-font-weight: 700;" />
            <ComboBox fx:id="customerCombo"
                      prefWidth="620"
                      style="-fx-font-size: 18px;" />
        </HBox>

        <VBox spacing="10">
            <Label text="Notes:" style="-fx-font-size: 20px; -fx-font-weight: 700;" />
            <TextArea fx:id="notesArea"
                      prefHeight="320"
                      wrapText="true"
                      style="-fx-border-color: #E6EAF0;
                             -fx-font-size: 18px;
                             -fx-text-fill: #6B7280;" />
        </VBox>

        <Label fx:id="assignedMechanicLabel"
               text="Assigned mechanic: (none)"
               style="-fx-font-size: 18px; -fx-text-fill: #6B7280;" />

        <HBox spacing="40" style="-fx-alignment: center;">
            <Button text="Assign to mechanic"
                    prefWidth="420"
                    prefHeight="70"
                    onAction="#handleAssignMechanic"
                    style="-fx-background-color: white;
                           -fx-border-color: black;
                           -fx-font-size: 26px;
                           -fx-font-weight: 600;" />

            <Button text="Create repair"
                    prefWidth="420"
                    prefHeight="70"
                    onAction="#handleCreateRepair"
                    style="-fx-background-color: white;
                           -fx-border-color: black;
                           -fx-font-size: 26px;
                           -fx-font-weight: 600;" />
        </HBox>

        <Label fx:id="errorLabel"
               text=""
               wrapText="true"
               style="-fx-font-size: 16px; -fx-text-fill: #DC2626;" />

    </VBox>

</AnchorPane>

